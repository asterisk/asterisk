                                Release Summary

                              asterisk-11.8.0-rc1

                                Date: 2014-01-15

                           <asteriskteam@digium.com>

     ----------------------------------------------------------------------

                               Table of Contents

    1. Summary
    2. Contributors
    3. Closed Issues
    4. Other Changes
    5. Diffstat

     ----------------------------------------------------------------------

                                    Summary

                                 [Back to Top]

   This release includes only bug fixes. The changes included were made only
   to address problems that have been identified in this release series.
   Users should be able to safely upgrade to this version if this release
   series is already in use. Users considering upgrading from a previous
   release series are strongly encouraged to review the UPGRADE.txt document
   as well as the CHANGES document for information about upgrading to this
   release series.

   The data in this summary reflects changes that have been made since the
   previous release, asterisk-11.7.0.

     ----------------------------------------------------------------------

                                  Contributors

                                 [Back to Top]

   This table lists the people who have submitted code, those that have
   tested patches, as well as those that reported issues on the issue tracker
   that were resolved in this release. For coders, the number is how many of
   their patches (of any size) were committed into this release. For testers,
   the number is the number of times their name was listed as assisting with
   testing a patch. Finally, for reporters, the number is the number of
   issues that they reported that were closed by commits that went into this
   release.

     Coders                   Testers                  Reporters              
   8 sgriepentrog           2 rsw686                 2 gareth                 
   6 mjordan                2 Tommy Thomspon         2 outtolunc              
   5 kmoore                 1 Dmitry Melekhov        2 rnewton                
   5 rmudgett               1 elguero                2 tomaso                 
   4 kharwell               1 Jan Juergens           1 adomjan                
   3 newtonr                1 Rusty Newton           1 ahoemig                
   2 Gareth Palmer          1 Torrey Searle          1 awinters               
   2 may                                             1 coreyfarrell           
   2 outtolunc                                       1 eisvogel               
   1 awinters                                        1 elguero                
   1 coreyfarrell                                    1 gkelleter              
   1 dlee                                            1 gtj                    
   1 elguero                                         1 hexanol                
   1 file                                            1 intelafone             
   1 hexanol                                         1 j_juergens             
   1 Jeremy LainA(c)                                 1 jbigelow               
   1 Michael Walton                                  1 jimcredland            
   1 mmichelson                                      1 mike@farsouthnet.com   
   1 qwell                                           1 mjordan                
   1 russell                                         1 mpiazzatnetbug         
   1 tsearle                                         1 nicolastanski          
   1 tzafrir                                         1 rsw686                 
   1 veilen                                          1 rudolf                 
   1 wdoekes                                         1 schmoozecom            
   1 xytis                                           1 sharky                 
                                                     1 shaunc869              
                                                     1 slesru                 
                                                     1 spitts                 
                                                     1 tthompson              
                                                     1 tzafrir                
                                                     1 urtho                  
                                                     1 veilen                 
                                                     1 wimpy                  
                                                     1 xytis                  

     ----------------------------------------------------------------------

                                 Closed Issues

                                 [Back to Top]

   This is a list of all issues from the issue tracker that were closed by
   changes that went into this release.

  Category: Addons/chan_ooh323

   ASTERISK-21960: ooh323 channels stuck
   Revision: 404318
   Reporter: slesru
   Testers: Dmitry Melekhov
   Coders: may

  Category: Applications/app_confbridge

   ASTERISK-22478: [patch]Can't use pound(hash) symbol for custom DTMF menus
   in ConfBridge (processed as directive)
   Revision: 402407
   Reporter: nicolastanski
   Coders: rmudgett

  Category: Applications/app_queue

   ASTERISK-20862: Asterisk min and max member penalties not honored when set
   with 0
   Revision: 402646
   Reporter: schmoozecom
   Coders: kmoore

  Category: Applications/app_sayunixtime

   ASTERISK-22856: [patch]SayUnixTime in polish reads minutes instead of
   seconds
   Revision: 404457
   Reporter: veilen
   Coders: veilen

  Category: Applications/app_sms

   ASTERISK-22590: BufferOverflow in unpacksms16() when receiving 16 bit
   multipart SMS with app_sms
   Revision: 403855
   Reporter: j_juergens
   Testers: Jan Juergens
   Coders: sgriepentrog

  Category: CEL/cel_pgsql

   ASTERISK-22854: [patch] - Deadlock between cel_pgsql unload and
   core_event_dispatcher taskprocessor thread
   Revision: 404604
   Reporter: hexanol
   Coders: hexanol

   ASTERISK-22871: cel_pgsql module not loading after "reload" or "reload
   cel_pgsql.so" command
   Revision: 404858
   Reporter: mpiazzatnetbug
   Coders: kharwell

  Category: Channels/chan_dahdi

   ASTERISK-22746: [patch]Crash in chan_dahdi during caller id read
   Revision: 402709
   Reporter: mike@farsouthnet.com
   Coders: Michael Walton

   ASTERISK-22918: dahdi show channels slices PRI channel dnid on output
   Revision: 404785
   Reporter: outtolunc
   Coders: outtolunc

  Category: Channels/chan_sip/General

   ASTERISK-22728: [patch] Improve Understanding Of 'Forcerport' When Running
   "sip show peers"
   Revision: 402111
   Reporter: elguero
   Testers: elguero
   Coders: elguero

   ASTERISK-23010: No BYE message sent when sip INVITE is received
   Revision: 405487
   Reporter: intelafone
   Coders: sgriepentrog

   ASTERISK-23047: Orphaned (stuck) channel occurs during a failed SIP
   transfer to parking space
   Revision: 405380
   Reporter: tthompson
   Testers: rsw686, Tommy Thomspon
   Coders: mjordan

  Category: Channels/chan_sip/Registration

   ASTERISK-12117: chan_sip creates a new local tag (from-tag) for every
   register message
   Revision: 402605
   Reporter: urtho
   Coders: sgriepentrog

   ASTERISK-17138: [patch] Asterisk not re-registering after it receives
   "Forbidden - wrong password on authentication"
   Revision: 405081
   Reporter: rudolf
   Coders: kmoore

   ASTERISK-22946: Local From tag regression with sipgate.de
   Revision: 405434
   Reporter: eisvogel
   Coders: sgriepentrog

  Category: Core/AstDB

   ASTERISK-22350: DUNDI - core dump on shutdown - segfault in sqlite3_reset
   from /usr/lib/libsqlite3.so.0
   Revision: 404344
   Reporter: wimpy
   Coders: sgriepentrog

  Category: Core/Channels

   ASTERISK-22919: core show channeltypes slicing
   Revision: 404579
   Reporter: outtolunc
   Coders: outtolunc

  Category: Core/General

   ASTERISK-22788: [patch] main/translate.c: access to variable f after free
   in ast_translate()
   Revision: 403015
   Reporter: coreyfarrell
   Coders: coreyfarrell

   ASTERISK-22905: Prevent Asterisk functions that are 'dangerous' from being
   executed from external interfaces
   Revision: 403917
   Reporter: mjordan
   Coders: dlee

   ASTERISK-23084: [patch]rasterisk needlessly prints the AST-2013-007
   warning
   Revision: 404888
   Reporter: tzafrir
   Coders: tzafrir

  Category: Core/ManagerInterface

   ASTERISK-22905: Prevent Asterisk functions that are 'dangerous' from being
   executed from external interfaces
   Revision: 403917
   Reporter: mjordan
   Coders: dlee

  Category: Documentation

   ASTERISK-22970: [patch]Documentation fix for QUOTE()
   Revision: 404087
   Reporter: gareth
   Coders: Gareth Palmer

   ASTERISK-23021: Typos in code : "avaliable" instead of "available"
   Revision: 404045
   Reporter: sharky
   Testers: Rusty Newton
   Coders: Jeremy LainA(c)

  Category: Features/Parking

   ASTERISK-22834: Parking by blind transfer when lot full orphans channels
   Revision: 405380
   Reporter: rsw686
   Testers: rsw686, Tommy Thomspon
   Coders: mjordan

  Category: Functions/General

   ASTERISK-22905: Prevent Asterisk functions that are 'dangerous' from being
   executed from external interfaces
   Revision: 403917
   Reporter: mjordan
   Coders: dlee

  Category: Functions/func_strings

   ASTERISK-22910: [patch] - REPLACE() calls strcpy on overlapping memory
   when is empty
   Revision: 404675
   Reporter: gareth
   Coders: Gareth Palmer

   ASTERISK-22970: [patch]Documentation fix for QUOTE()
   Revision: 404087
   Reporter: gareth
   Coders: Gareth Palmer

  Category: General

   ASTERISK-23021: Typos in code : "avaliable" instead of "available"
   Revision: 404045
   Reporter: sharky
   Testers: Rusty Newton
   Coders: Jeremy LainA(c)

  Category: PBX/pbx_dundi

   ASTERISK-22350: DUNDI - core dump on shutdown - segfault in sqlite3_reset
   from /usr/lib/libsqlite3.so.0
   Revision: 404344
   Reporter: wimpy
   Coders: sgriepentrog

  Category: PBX/pbx_lua

   ASTERISK-23011: [patch]configure.ac and pbx_lua don't support lua 5.2
   Revision: 405091
   Reporter: gtj
   Coders: kmoore

  Category: Resources/res_agi

   ASTERISK-22905: Prevent Asterisk functions that are 'dangerous' from being
   executed from external interfaces
   Revision: 403917
   Reporter: mjordan
   Coders: dlee

  Category: Resources/res_ari

   ASTERISK-22905: Prevent Asterisk functions that are 'dangerous' from being
   executed from external interfaces
   Revision: 403917
   Reporter: mjordan
   Coders: dlee

  Category: Resources/res_fax

   ASTERISK-21242: Segfault when T.38 re-invite retransmission receives 200
   OK
   Revision: 403450
   Reporter: awinters
   Testers: Torrey Searle
   Coders: awinters, tsearle

   ASTERISK-22942: [patch] - Asterisk crashed after
   Set(FAXOPT(faxdetect)=t38)
   Revision: 404351
   Reporter: adomjan
   Coders: sgriepentrog

  Category: Resources/res_fax_spandsp

   ASTERISK-21242: Segfault when T.38 re-invite retransmission receives 200
   OK
   Revision: 403450
   Reporter: awinters
   Testers: Torrey Searle
   Coders: awinters, tsearle

  Category: Resources/res_http_websocket

   ASTERISK-21383: STUN Binding Requests Not Being Sent Back from Asterisk to
   Chrome
   Revision: 402345
   Reporter: shaunc869
   Coders: kmoore

  Category: Resources/res_pjsip

   ASTERISK-22911: [patch]Asterisk fails to resume WebRTC call from hold
   Revision: 405234
   Reporter: xytis
   Coders: xytis

  Category: Resources/res_rtp_asterisk

   ASTERISK-22911: [patch]Asterisk fails to resume WebRTC call from hold
   Revision: 405234
   Reporter: xytis
   Coders: xytis

  Category: Sounds

   ASTERISK-22411: British English Sound Packs
   Revision: 402225
   Reporter: jimcredland
   Coders: newtonr

   ASTERISK-22544: Italian prompt vm-options has advertisement in it
   Revision: 402225
   Reporter: rnewton
   Coders: newtonr

   ASTERISK-22659: Make a new core and extra sounds release
   Revision: 402225
   Reporter: rnewton
   Coders: newtonr

     ----------------------------------------------------------------------

                      Commits Not Associated with an Issue

                                 [Back to Top]

   This is a list of all changes that went into this release that did not
   directly close an issue from the issue tracker. The commits may have been
   marked as being related to an issue. If that is the case, the issue
   numbers are listed here, as well.

   +------------------------------------------------------------------------+
   | Revision | Author       | Summary                  | Issues Referenced |
   |----------+--------------+--------------------------+-------------------|
   |          |              | Remove some spammy debug |                   |
   | 402151   | mjordan      | messages; improve        |                   |
   |          |              | clarity of others        |                   |
   |----------+--------------+--------------------------+-------------------|
   | 402288   | mjordan      | core/loader: Don't call  |                   |
   |          |              | dlclose in a while loop  |                   |
   |----------+--------------+--------------------------+-------------------|
   | 402686   | mmichelson   | Get rid of some          |                   |
   |          |              | inaccurate comments.     |                   |
   |----------+--------------+--------------------------+-------------------|
   |          |              | Check and reject         |                   |
   | 403288   | may          | non-digits e164 values   | ASTERISK-22901    |
   |          |              | on peers and general     |                   |
   |          |              | sections in ooh323.conf  |                   |
   |----------+--------------+--------------------------+-------------------|
   | 403635   | russell      | Reset peer outboundproxy |                   |
   |          |              | on sip.conf reload       |                   |
   |----------+--------------+--------------------------+-------------------|
   |          |              | pbx.c: put copy of       |                   |
   | 403863   | sgriepentrog | ast_exten.data on stack  | AST-1179,         |
   |          |              | to prevent memory        | AST-1246          |
   |          |              | corruption               |                   |
   |----------+--------------+--------------------------+-------------------|
   |          |              | res_calendar: Protect    |                   |
   | 404136   | file         | channel when adding      |                   |
   |          |              | datastore.               |                   |
   |----------+--------------+--------------------------+-------------------|
   | 404219   | rmudgett     | ooh323c: Fix gcc 4.6.3   |                   |
   |          |              | compiler warnings.       |                   |
   |----------+--------------+--------------------------+-------------------|
   | 404275   | qwell        | Add AMI event for        |                   |
   |          |              | presence state.          |                   |
   |----------+--------------+--------------------------+-------------------|
   | 404773   | kharwell     | app_meetme: compiler     |                   |
   |          |              | warning                  |                   |
   |----------+--------------+--------------------------+-------------------|
   | 405089   | kmoore       | UPGRADE: Add a note      |                   |
   |          |              | about non-functionality  |                   |
   |----------+--------------+--------------------------+-------------------|
   | 405161   | wdoekes      | "Minimun" typo.          |                   |
   |----------+--------------+--------------------------+-------------------|
   |          |              | Logging callid: Fix some |                   |
   | 405281   | rmudgett     | sizeof() references per  |                   |
   |          |              | coding guidelines.       |                   |
   |----------+--------------+--------------------------+-------------------|
   | 405362   | mjordan      | res/Makefile: alias      | ASTERISK-22480    |
   |          |              | dist-clean to distclean  |                   |
   +------------------------------------------------------------------------+

     ----------------------------------------------------------------------

                                Diffstat Results

                                 [Back to Top]

   This is a summary of the changes to the source code that went into this
   release that was generated using the diffstat utility.

 README-SERIOUSLY.bestpractices.txt         |   24 +
 UPGRADE.txt                                |   45 +++
 addons/chan_ooh323.c                       |  112 +++++++--
 addons/ooh323c/src/ooGkClient.c            |    4
 addons/ooh323c/src/ooGkClient.h            |    3
 addons/ooh323c/src/ooTimer.c               |    6
 addons/ooh323c/src/oochannels.c            |    6
 apps/app_chanspy.c                         |    2
 apps/app_confbridge.c                      |  125 +++++++---
 apps/app_dumpchan.c                        |   22 -
 apps/app_meetme.c                          |   11
 apps/app_mixmonitor.c                      |    2
 apps/app_queue.c                           |   79 ++++--
 apps/app_sms.c                             |    3
 apps/app_verbose.c                         |    4
 apps/confbridge/conf_state.c               |    3
 apps/confbridge/conf_state_inactive.c      |    2
 apps/confbridge/conf_state_multi.c         |    2
 apps/confbridge/conf_state_multi_marked.c  |   47 ++-
 apps/confbridge/conf_state_single.c        |    2
 apps/confbridge/conf_state_single_marked.c |    2
 apps/confbridge/include/confbridge.h       |   12
 cel/cel_pgsql.c                            |   10
 channels/chan_dahdi.c                      |   11
 channels/chan_iax2.c                       |    2
 channels/chan_sip.c                        |  133 +++++++---
 channels/sip/include/sip.h                 |    1
 configs/asterisk.conf.sample               |    6
 configs/confbridge.conf.sample             |    9
 configs/logger.conf.sample                 |   19 -
 configure.ac                               |   11
 funcs/func_db.c                            |   20 +
 funcs/func_env.c                           |   28 +-
 funcs/func_lock.c                          |   21 +
 funcs/func_realtime.c                      |   60 +++-
 funcs/func_shell.c                         |   18 -
 funcs/func_strings.c                       |   77 +++++-
 funcs/func_timeout.c                       |   16 -
 include/asterisk/logger.h                  |  101 ++++++--
 include/asterisk/pbx.h                     |   54 ++++
 include/asterisk/rtp_engine.h              |    8
 include/asterisk/test.h                    |    2
 main/asterisk.c                            |  197 ++++++++++-----
 main/channel.c                             |   13 -
 main/cli.c                                 |  359 ++++++++++++++++++-----------
 main/config.c                              |   21 +
 main/db.c                                  |   24 +
 main/loader.c                              |   28 +-
 main/logger.c                              |  226 +++++++++++++++---
 main/manager.c                             |   59 +++-
 main/pbx.c                                 |  296 +++++++++++++++++++++--
 main/rtp_engine.c                          |    2
 main/say.c                                 |    2
 main/tcptls.c                              |   11
 main/translate.c                           |   61 ++--
 main/xmldoc.c                              |    1
 pbx/pbx_lua.c                              |   11
 res/Makefile                               |    6
 res/res_calendar.c                         |    3
 res/res_fax.c                              |    2
 res/res_fax_spandsp.c                      |    4
 res/res_rtp_asterisk.c                     |   41 +--
 sounds/Makefile                            |    9
 63 files changed, 1892 insertions(+), 609 deletions(-)

     ----------------------------------------------------------------------
