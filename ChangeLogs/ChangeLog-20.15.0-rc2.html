<html><head><title>ChangeLog for asterisk-20.15.0-rc2</title></head><body>
<h2>Change Log for Release asterisk-20.15.0-rc2</h2>
<h3>Links:</h3>
<ul>
<li><a href="https://downloads.asterisk.org/pub/telephony/asterisk/releases/ChangeLog-20.15.0-rc2.html">Full ChangeLog</a>  </li>
<li><a href="https://github.com/asterisk/asterisk/compare/20.15.0-rc1...20.15.0-rc2">GitHub Diff</a>  </li>
<li><a href="https://downloads.asterisk.org/pub/telephony/asterisk/asterisk-20.15.0-rc2.tar.gz">Tarball</a>  </li>
<li><a href="https://downloads.asterisk.org/pub/telephony/asterisk">Downloads</a>  </li>
</ul>
<h3>Summary:</h3>
<ul>
<li>Commits: 2</li>
<li>Commit Authors: 2</li>
<li>Issues Resolved: 3</li>
<li>Security Advisories Resolved: 0</li>
</ul>
<h3>User Notes:</h3>
<h3>Upgrade Notes:</h3>
<h3>Commit Authors:</h3>
<ul>
<li>Michal Hajek: (1)</li>
<li>Sean Bright: (1)</li>
</ul>
<h2>Issue and Commit Detail:</h2>
<h3>Closed Issues:</h3>
<ul>
<li>1276: MixMonitor produces broken recordings in bridged calls with asymmetric codecs (e.g., alaw vs G.722)</li>
<li>1279: [bug]: regression: 20.12.0 downgrades quality of wav16 recordings</li>
<li>1282: [bug]: Alternate Channel Storage Backends menuselect not enabling it</li>
</ul>
<h3>Commits By Author:</h3>
<ul>
<li>
<h4>Michal Hajek (1):</h4>
</li>
<li>
<p>audiohook.c: Improve frame pairing logic to avoid MixMonitor breakage with mix..</p>
</li>
<li>
<h4>Sean Bright (1):</h4>
</li>
<li>channelstorage_makeopts.xml: Remove errant XML character.</li>
</ul>
<h3>Commit List:</h3>
<ul>
<li>channelstorage_makeopts.xml: Remove errant XML character.</li>
</ul>
<h3>Commit Details:</h3>
<h4>audiohook.c: Improve frame pairing logic to avoid MixMonitor breakage with mix..</h4>
<p>Author: Michal Hajek
  Date:   2025-05-21</p>
<p>This patch adjusts the read/write synchronization logic in audiohook_read_frame_both()
  to better handle calls where participants use different codecs or sample sizes
  (e.g., alaw vs G.722). The previous hard threshold of 2 * samples caused MixMonitor
  recordings to break or stutter when frames were not aligned between both directions.</p>
<p>The new logic uses a more tolerant limit (1.5 * samples), which prevents audio tearing
  without causing excessive buffer overruns. This fix specifically addresses issues
  with MixMonitor when recording directly on a channel in a bridge using mixed codecs.</p>
<p>Reported-by: Michal Hajek <a href="&#109;&#97;&#105;&#108;&#116;&#111;&#58;&#109;&#105;&#99;&#104;&#97;&#108;&#46;&#104;&#97;&#106;&#101;&#107;&#64;&#100;&#97;&#107;&#116;&#101;&#108;&#97;&#46;&#99;&#111;&#109;">&#109;&#105;&#99;&#104;&#97;&#108;&#46;&#104;&#97;&#106;&#101;&#107;&#64;&#100;&#97;&#107;&#116;&#101;&#108;&#97;&#46;&#99;&#111;&#109;</a></p>
<p>Resolves: #1276
  Resolves: #1279</p>
<h4>channelstorage_makeopts.xml: Remove errant XML character.</h4>
<p>Author: Sean Bright
  Date:   2025-06-30</p>
<p>Resolves: #1282</p>
</body></html>
