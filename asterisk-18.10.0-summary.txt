                                Release Summary

                                asterisk-18.10.0

                                Date: 2022-02-10

                           <asteriskteam@digium.com>

     ----------------------------------------------------------------------

                               Table of Contents

    1. Summary
    2. Contributors
    3. Closed Issues
    4. Open Issues
    5. Other Changes
    6. Diffstat

     ----------------------------------------------------------------------

                                    Summary

                                 [Back to Top]

   This release is a point release of an existing major version. The changes
   included were made to address problems that have been identified in this
   release series, or are minor, backwards compatible new features or
   improvements. Users should be able to safely upgrade to this version if
   this release series is already in use. Users considering upgrading from a
   previous version are strongly encouraged to review the UPGRADE.txt
   document as well as the CHANGES document for information about upgrading
   to this release series.

   The data in this summary reflects changes that have been made since the
   previous release, asterisk-18.9.0.

     ----------------------------------------------------------------------

                                  Contributors

                                 [Back to Top]

   This table lists the people who have submitted code, those that have
   tested patches, as well as those that reported issues on the issue tracker
   that were resolved in this release. For coders, the number is how many of
   their patches (of any size) were committed into this release. For testers,
   the number is the number of times their name was listed as assisting with
   testing a patch. Finally, for reporters, the number is the number of
   issues that they reported that were affected by commits that went into
   this release.

   Coders                      Testers               Reporters                
   24 Naveen Albert                                  20 N A                   
   10 George Joseph                                  6 Mark Petersen          
   8 Sean Bright                                     6 Michał Górny           
   7 Alexander Traud                                 6 George Joseph          
   6 Mark Petersen                                   5 Alexander Traud        
   5 Michał Górny                                    3 Sean Bright            
   3 Kevin Harwell                                   2 Luke Escude            
   2 Asterisk Development Team                       1 Steve Davies           
   2 Mike Bradeen                                    1 Dustin Marquess        
   1 Luke Escude                                     1 Alexei Gradinari       
   1 Frederic Van Espen                              1 Kevin Harwell          
   1 Torrey Searle                                   1 Simone Lazzaris        
   1 Joshua C. Colp                                  1 Ross Beer              
   1 Florentin Mayer                                 1 Frederic Van Espen     
   1 Dustin Marquess                                 1 Joshua C. Colp         
   1 Josh Soref                                      1 Thomas Guebels         
   1 Steve Davies                                    1 Dan Cropp              
                                                     1 Vincent Dubois         
                                                     1 Anil Gupta             
                                                     1 Krzysztof Trempala     
                                                     1 Dafi Ni                
                                                     1 Josh Soref             
                                                     1 Mark Murawski          
                                                     1 Mark Petersen          
                                                     1 Torrey Searle          
                                                     1 Andrew Latham          

     ----------------------------------------------------------------------

                                 Closed Issues

                                 [Back to Top]

   This is a list of all issues from the issue tracker that were closed by
   changes that went into this release.

  New Feature

    Category: Applications/NewFeature

   ASTERISK-29802: app_sf: Add full tech-agnostic SF support
   Reported by: N A
     * [dd6df42534] Naveen Albert -- app_sf: Add full tech-agnostic SF
       support

    Category: Applications/app_sendtext

   ASTERISK-29759: app_sendtext: Add ReceiveText application
   Reported by: N A
     * [2f1eb56116] Naveen Albert -- app_sendtext: Add ReceiveText
       application

    Category: CDR/NewFeature

   ASTERISK-29808: cdr: allow disabling CDR by default
   Reported by: N A
     * [6fc8453e96] Naveen Albert -- cdr: allow disabling CDR by default on
       new channels

    Category: Functions/NewFeature

   ASTERISK-29706: func_json: Add JSON parsing function
   Reported by: N A
     * [c0cdaf0246] Naveen Albert -- func_json: Adds JSON_DECODE function

    Category: General

   ASTERISK-29830: ami: Add AMI event for Wink
   Reported by: N A
     * [f133ae6ca2] Naveen Albert -- ami: Add AMI event for Wink

  Bug

    Category: Applications/General

   ASTERISK-29816: SAY_DTMF_INTERRUPT channel variable is not honored
   Reported by: Sean Bright
     * [4fe94bab09] Sean Bright -- say.c: Honor requests for DTMF
       interruption.
   ASTERISK-29766: pbx_variables: MSet truncates sets after 24 variables
   Reported by: N A
     * [c6309af560] Naveen Albert -- pbx_variables: Increase parsing
       capabilities of MSet

    Category: Applications/app_queue

   ASTERISK-29827: Support for Nordic language syntax in Queues
   Reported by: Mark Petersen
     * [dea71ddbbf] Mark Petersen -- app_queue.c: Support for Nordic syntax
       in announcements
   ASTERISK-29515: app_queue: QueueSummary and QueueStatus events don't exist
   in documentation
   Reported by: Luke Escude
     * [b37feb42ae] Naveen Albert -- documentation: Add missing AMI
       documentation
   ASTERISK-29806: app_queue: extension state incorrect
   Reported by: Steve Davies
     * [16a63027c0] Steve Davies -- app_queue: Fix hint updates, allow dup.
       hints

    Category: Applications/app_voicemail

   ASTERISK-29859: VoiceMailMain() fails when encountering non-numeric
   CALLERID(num)
   Reported by: Mark Murawski
     * [3fd47840c9] Sean Bright -- say.c: Prevent erroneous failures with
       'say' family of functions.
   ASTERISK-29695: SAY.CONF wrong logic when converting 24hour time to say 12
   hour am/pm
   Reported by: Vincent Dubois
     * [54f2f1e027] Naveen Albert -- say.conf: fix 12pm noon logic

    Category: Channels/chan_pjsip

   ASTERISK-28053: chan_pjsip: Wrong or missing Q.850 reason in CANCEL
   Reported by: Simone Lazzaris
     * [6c9e8afd4e] Mark Petersen -- apps/app_dial.c: HANGUPCAUSE reason code
       for CANCEL is set to AST_CAUSE_NORMAL_CLEARING

    Category: Channels/chan_sip/General

   ASTERISK-29772: chan_sip: ${CHANNEL(ruri)} in Dial/Queue b(test,s,1) cause
   a coredump
   Reported by: Mark Petersen
     * [3108457d8f] Naveen Albert -- chan_sip: Fix crash when accessing RURI
       before initiating outgoing call

    Category: Contrib/General

   ASTERISK-29794: ast_coredumper does not delete results when requested and
   a specific output dir is set
   Reported by: Frederic Van Espen
     * [965f4abd9a] Frederic Van Espen -- ast_coredumper: Fix deleting
       results when output dir is set

    Category: Core/Bridging

   ASTERISK-29821: Deadlock in bridge_channel_internal_join() on local
   channels.
   Reported by: Krzysztof Trempala
     * [d83a46869e] Joshua C. Colp -- bridge: Unlock channel during Local
       peer check.

    Category: Core/BuildSystem

   ASTERISK-29817: gethostbyname_r is misdetected on NetBSD and causes a
   build failure
   Reported by: Michał Górny
     * [5b47b7a37e] Sean Bright -- build: Rebuild configure and
       autoconfig.h.in
     * [7b1e5fa34a] Michał Górny -- BuildSystem: Fix misdetection of
       gethostbyname_r() on NetBSD
   ASTERISK-29852: make_version uses GNU-ism that break git-svn-id parsing on
   NetBSD
   Reported by: Michał Górny
     * [90d02cf0a3] Michał Górny -- build_tools/make_version: Fix sed(1)
       syntax compatibility with NetBSD

    Category: Core/General

   ASTERISK-29850: ast_get_tid() not implemented for NetBSD
   Reported by: Michał Górny
     * [c8ef232d76] Michał Górny -- main/utils: Implement ast_get_tid() for
       NetBSD
   ASTERISK-29818: Build failure on NetBSD due to hmac function collision
   Reported by: Michał Górny
     * [eef29d24e1] Michał Górny -- include: Remove unimplemented HMAC
       declarations
   ASTERISK-29746: tcptls.c: TCP client connect fails due to interrupt
   Reported by: Kevin Harwell
     * [06f9227ac5] Kevin Harwell -- tcptls.c: refactor client connection to
       be more robust
   ASTERISK-29763: main: Fix for Doxygen
   Reported by: Alexander Traud
     * [20d9158c9c] Alexander Traud -- main: Fix for Doxygen.

    Category: Core/Portability

   ASTERISK-29851: rdtsc is not enabled (stubbed out) on NetBSD
   Reported by: Michał Górny
     * [d68d90c5be] Michał Górny -- main: Enable rdtsc support on NetBSD

    Category: Core/RTP

   ASTERISK-28863: The ast_rtp_codecs_payloads functions don't preserve order
   Reported by: George Joseph
     * [4e204db2bf] Florentin Mayer -- res_pjsip_sdp_rtp: Preserve order of
       RTP codecs

    Category: Documentation

   ASTERISK-29515: app_queue: QueueSummary and QueueStatus events don't exist
   in documentation
   Reported by: Luke Escude
     * [b37feb42ae] Naveen Albert -- documentation: Add missing AMI
       documentation
   ASTERISK-29790: xmldoc: Dump invalid to XML DTD: XSLT
   Reported by: Alexander Traud
     * [55dd77b921] Alexander Traud -- xmldoc: Avoid whitespace around value
       for parameter/required.
   ASTERISK-29791: xmldoc: Dump invalid to XML DTD: ACO Matchfield
   Reported by: Alexander Traud
     * [5b24edeb7c] Alexander Traud -- xmldoc: Correct definition for XML
       element 'matchInfo'.
   ASTERISK-26991: documentation: Doxygen site is no longer being updated
   Reported by: Joshua C. Colp
     * [d914e14420] Alexander Traud -- progdocs: Update Makefile.
   ASTERISK-20259: [patch] Update Doxygen Configuration for make progdocs
   Reported by: Andrew Latham
     * [d914e14420] Alexander Traud -- progdocs: Update Makefile.
   ASTERISK-29761: res: Fix for Doxygen
   Reported by: Alexander Traud
     * [178cb0ffe4] Alexander Traud -- res: Fix for Doxygen.
   ASTERISK-29763: main: Fix for Doxygen
   Reported by: Alexander Traud
     * [20d9158c9c] Alexander Traud -- main: Fix for Doxygen.

    Category: Functions/General

   ASTERISK-29854: func_frame_drop: fix buffer usage typo
   Reported by: N A
     * [5df5a70d37] Naveen Albert -- func_frame_drop: Fix typo referencing
       wrong buffer

    Category: PBX/General

   ASTERISK-29847: pbx_variables: ASTSBINDIR is missing
   Reported by: N A
     * [e006d2d2a6] Naveen Albert -- pbx_variables: add missing ASTSBINDIR
       variable
   ASTERISK-29803: pbx_variables: cp4 variables is used uninitialized
   Reported by: N A
     * [bb27d5e1fe] Naveen Albert -- pbx_variables: initialize uninitialized
       variable

    Category: Resources/General

   ASTERISK-29857: res_tonedetect: fix logic errors in code
   Reported by: N A
     * [a4b01ececb] Naveen Albert -- res_tonedetect: Fixes some logic issues
       and typos

    Category: Resources/res_pjsip

   ASTERISK-29698: Segfault if sorcery object_lifetime_maximum and
   qualify_frequency the same value
   Reported by: Alexei Gradinari
     * [ac8988c9a3] Mike Bradeen -- sched: fix and test a double deref on
       delete of an executing call back

    Category: Resources/res_pjsip_outbound_authenticator_digest

   ASTERISK-29888: res_pjsip_outbound_authenticator_digest: ABRT attempting
   to clean up auth_sess
   Reported by: George Joseph
     * [2a34bb1e11] George Joseph -- res_pjsip_outbound_authenticator_digest:
       Prevent ABRT on cleanup

    Category: Resources/res_pjsip_sdp_rtp

   ASTERISK-29320: res_pjsip_sdp_rtp: Codec preference order of remote is not
   correct on unhold
   Reported by: Ross Beer
     * [4e204db2bf] Florentin Mayer -- res_pjsip_sdp_rtp: Preserve order of
       RTP codecs
   ASTERISK-29785: res_pjsip_sdp_rtp: Warns on every offered crypto suite
   Reported by: Alexander Traud
     * [a103956fc9] Alexander Traud -- res_pjsip_sdp_rtp: Do not warn on
       unknown sRTP crypto suites.

    Category: Resources/res_pjsip_session

   ASTERISK-29813: res_pjsip_session doesn't support multipart message bodies
   Reported by: George Joseph
     * [f55886a72c] George Joseph -- res_pjsip: Make message_filter and
       session multipart aware

    Category: Resources/res_rtp_asterisk

   ASTERISK-29869: rtp sequence number can skip after DTMF under certain
   bridges
   Reported by: Torrey Searle
     * [9c9083b45a] Torrey Searle -- res/res_rtp_asterisk: fix skip in rtp
       sequence numbers after dtmf
   ASTERISK-29856: res_rtp_asterisk: Invalid comparison creates unreachable
   code
   Reported by: N A
     * [a9e9e15c3a] Naveen Albert -- res_rtp_asterisk: Fix typo in flag
       test/set
   ASTERISK-27406: Infinite loop when out of ports and rtpstart value is odd
   Reported by: Thomas Guebels
     * [04d00c203c] Mike Bradeen -- res_rtp_asterisk: Addressing possible rtp
       range issues

    Category: Resources/res_sorcery_memory_cache

   ASTERISK-29698: Segfault if sorcery object_lifetime_maximum and
   qualify_frequency the same value
   Reported by: Alexei Gradinari
     * [ac8988c9a3] Mike Bradeen -- sched: fix and test a double deref on
       delete of an executing call back

    Category: Tests/testsuite

   ASTERISK-29722: test_timezone_watch breaks during DST to ST transition
   Reported by: Josh Soref
     * [a5cdee36a7] Josh Soref -- test_time.c: Tolerate DST transitions

    Category: Third-Party/pjproject

   ASTERISK-29867: configure fails if libsrtp dev files are not installed
   Reported by: Sean Bright
     * [cc38ed9c21] George Joseph -- bundled_pjproject: Fix srtp detection
   ASTERISK-29858: Regression: Using external pjproject not working after
   "hack" commit
   Reported by: George Joseph
     * [b59bd3d3e4] George Joseph -- build: Fix issues building pjproject
   ASTERISK-29824: It's hard to make changes to bundled pjproject
   Reported by: George Joseph
     * [3f093b8dda] George Joseph -- bundled_pjproject: Make it easier to
       hack
   ASTERISK-29804: bundled_pjproject: sip_inv is missing multipart support in
   some cases
   Reported by: George Joseph
     * [0cf4e325aa] George Joseph -- bundled_pjproject: Add more support for
       multipart bodies

    Category: pjproject/pjsip

   ASTERISK-29664: PJSIP processing token with % incorrectly
   Reported by: Dan Cropp
     * [ee69441fbd] Sean Bright -- pjproject: Fix incorrect unescaping of
       tokens during parsing

  Improvement

    Category: Addons/chan_ooh323

   ASTERISK-29819: utils.c: Remove all usages of ast_gethostbyname()
   Reported by: Sean Bright
     * [0bbef4d8c5] Sean Bright -- utils.c: Remove all usages of
       ast_gethostbyname()

    Category: Applications/General

   ASTERISK-29801: app.c: Throw warnings for nonexistent options
   Reported by: N A
     * [030f7d4131] Naveen Albert -- app.c: Throw warnings for nonexistent
       options

    Category: Applications/app_festival

   ASTERISK-29819: utils.c: Remove all usages of ast_gethostbyname()
   Reported by: Sean Bright
     * [0bbef4d8c5] Sean Bright -- utils.c: Remove all usages of
       ast_gethostbyname()

    Category: Applications/app_mp3

   ASTERISK-29829: app_mp3: Throw warning if attempting to play a nonexistent
   stream
   Reported by: N A
     * [775c371d09] Naveen Albert -- app_mp3: Throw warning on nonexistent
       stream

    Category: Applications/app_queue

   ASTERISK-29831: Queue don't play "thank-you" when here is no hold time
   announcements
   Reported by: Mark Petersen
     * [c8d89e7e1b] Mark Petersen -- app_queue.c: Queue don't play
       "thank-you" when here is no hold time announcements
   ASTERISK-29795: DIALEDPEERNUMBER not set on destination channel for Queue
   calls
   Reported by: Mark Petersen
     * [3d71bcd2f4] Mark Petersen -- app_queue.c: added DIALEDPEERNUMBER on
       outgoing channel

    Category: Applications/app_voicemail

   ASTERISK-29797: Support for Danish language syntax in VM
   Reported by: Mark Petersen
     * [a4c42e70c1] Mark Petersen -- app_voicemail.c: Support for Danish
       syntax in VM

    Category: Channels/chan_iax2

   ASTERISK-29819: utils.c: Remove all usages of ast_gethostbyname()
   Reported by: Sean Bright
     * [0bbef4d8c5] Sean Bright -- utils.c: Remove all usages of
       ast_gethostbyname()

    Category: Channels/chan_mgcp

   ASTERISK-29819: utils.c: Remove all usages of ast_gethostbyname()
   Reported by: Sean Bright
     * [0bbef4d8c5] Sean Bright -- utils.c: Remove all usages of
       ast_gethostbyname()

    Category: Channels/chan_sip/General

   ASTERISK-29832: Enable pickup on channel after having received 183
   Progress
   Reported by: Mark Petersen
     * [95ee1d06d6] Mark Petersen -- chan_sip.c Fix pickup on channel that
       are in AST_STATE_DOWN

    Category: Channels/chan_skinny

   ASTERISK-29819: utils.c: Remove all usages of ast_gethostbyname()
   Reported by: Sean Bright
     * [0bbef4d8c5] Sean Bright -- utils.c: Remove all usages of
       ast_gethostbyname()

    Category: Channels/chan_unistim

   ASTERISK-29819: utils.c: Remove all usages of ast_gethostbyname()
   Reported by: Sean Bright
     * [0bbef4d8c5] Sean Bright -- utils.c: Remove all usages of
       ast_gethostbyname()

    Category: Configs/Samples

   ASTERISK-29758: configs: Minor updates to sample configs
   Reported by: N A
     * [c6410dc4ed] Naveen Albert -- configs: Updates to sample configs

    Category: Core/Configuration

   ASTERISK-29819: utils.c: Remove all usages of ast_gethostbyname()
   Reported by: Sean Bright
     * [0bbef4d8c5] Sean Bright -- utils.c: Remove all usages of
       ast_gethostbyname()

    Category: Documentation

   ASTERISK-29848: documentation: Document special system and channel
   variables
   Reported by: N A
     * [707f32170c] Naveen Albert -- documentation: Document built-in system
       and channel vars
   ASTERISK-24427: Documentation is missing for a few AMI Events - Including
   CDR and events triggered after the QueueStatus action
   Reported by: Dafi Ni
     * [b37feb42ae] Naveen Albert -- documentation: Add missing AMI
       documentation

    Category: General

   ASTERISK-29855: frame.h: fix CNG documentation typo
   Reported by: N A
     * [18c257b44d] Naveen Albert -- frame.h: Fix spelling typo
   ASTERISK-29815: dsp: Define magic number as macro
   Reported by: N A
     * [6d7161820e] Naveen Albert -- dsp: Add define macro for
       DTMF_MATRIX_SIZE
   ASTERISK-29807: cli: add module refresh command
   Reported by: N A
     * [1c2f311ba3] Naveen Albert -- cli: Add module refresh command
   ASTERISK-29800: strings: Fix misusage in comment examples
   Reported by: N A
     * [86bc3eef99] Naveen Albert -- strings: Fix enum names in comment
       examples

    Category: PBX/General

   ASTERISK-29745: pbx: Add public API for more elegant variable substitution
   with extensions
   Reported by: N A
     * [cc1418ef47] Naveen Albert -- pbx: Add variable substitution API for
       extensions

    Category: Resources/res_fax_spandsp

   ASTERISK-29729: Incompatibility with newer spandsp releases (3.0.0+)
   Reported by: Dustin Marquess
     * [b2e71b82e7] Dustin Marquess -- res_fax_spandsp: Add spandsp 3.0.0+
       compatibility

    Category: Resources/res_pjsip_sdp_rtp

   ASTERISK-28890: res_pjsip_sdp_rtp: Keepalive not supported for video
   streams
   Reported by: Luke Escude
     * [6e8bbe4b3a] Luke Escude -- res_pjsip_sdp_rtp.c: Support keepalive for
       video streams.

     ----------------------------------------------------------------------

                                  Open Issues

                                 [Back to Top]

   This is a list of all open issues from the issue tracker that were
   referenced by changes that went into this release.

  Bug

    Category: Resources/res_ari_channels

   ASTERISK-28219: res_ari: Channel create and dial may cause "BUG! Must
   supply a channel name.." error
   Reported by: Anil Gupta
     * [c37cc5d3bc] Sean Bright -- channel: Short-circuit
       ast_channel_get_by_name() on empty arg.

     ----------------------------------------------------------------------

                      Commits Not Associated with an Issue

                                 [Back to Top]

   This is a list of all changes that went into this release that did not
   reference a JIRA issue.

   +------------------------------------------------------------------------+
   | Revision   | Author           | Summary                                |
   |------------+------------------+----------------------------------------|
   | 80be780012 | Asterisk         | Update for 18.10.0-rc1                 |
   |            | Development Team |                                        |
   |------------+------------------+----------------------------------------|
   | aa6a50630f | Asterisk         | Update CHANGES and UPGRADE.txt for     |
   |            | Development Team | 18.10.0                                |
   |------------+------------------+----------------------------------------|
   | c51353e4db | Sean Bright      | build_tools/make_version: Fix bashism  |
   |            |                  | in comparison.                         |
   |------------+------------------+----------------------------------------|
   | 0d53ce35f9 | George Joseph    | bundled_pjproject: Add additional      |
   |            |                  | multipart search utils                 |
   |------------+------------------+----------------------------------------|
   | 135e48deba | George Joseph    | build: Add "basebranch" to .gitreview  |
   |------------+------------------+----------------------------------------|
   | 98f86697cc | Kevin Harwell    | res_http_websocket: Add a client       |
   |            |                  | connection timeout                     |
   |------------+------------------+----------------------------------------|
   | 59cf9f0047 | George Joseph    | res_pjsip: Add utils for checking      |
   |            |                  | media types                            |
   |------------+------------------+----------------------------------------|
   | f10947ecc2 | George Joseph    | bundled_pjproject: Create generic      |
   |            |                  | pjsip_hdr_find functions               |
   |------------+------------------+----------------------------------------|
   | 05afa061f5 | Kevin Harwell    | http.c: Add ability to create multiple |
   |            |                  | HTTP servers                           |
   |------------+------------------+----------------------------------------|
   | 087f25d3fd | Sean Bright      | CHANGES: Correct reference to          |
   |            |                  | configuration file.                    |
   |------------+------------------+----------------------------------------|
   | 2b2b708d43 | Naveen Albert    | app_mf: Add full tech-agnostic MF      |
   |            |                  | support                                |
   |------------+------------------+----------------------------------------|
   | 4b6c72572c | Alexander Traud  | progdocs: Fix Doxygen left-overs.      |
   +------------------------------------------------------------------------+

     ----------------------------------------------------------------------

                                Diffstat Results

                                 [Back to Top]

   This is a summary of the changes to the source code that went into this
   release that was generated using the diffstat utility.

 asterisk-18.9.0-summary.html                                                                    |  732 ----
 asterisk-18.9.0-summary.txt                                                                     | 1219 -------
 b/.gitreview                                                                                    |    1
 b/.version                                                                                      |    2
 b/CHANGES                                                                                       |   88
 b/ChangeLog                                                                                     | 1082 ++++++
 b/Makefile                                                                                      |   32
 b/addons/ooh323c/src/ooSocket.c                                                                 |   19
 b/apps/app_dial.c                                                                               |  116
 b/apps/app_festival.c                                                                           |   12
 b/apps/app_mf.c                                                                                 |  400 +-
 b/apps/app_mp3.c                                                                                |    5
 b/apps/app_queue.c                                                                              |  116
 b/apps/app_sendtext.c                                                                           |   87
 b/apps/app_sf.c                                                                                 |  440 ++
 b/apps/app_voicemail.c                                                                          |   49
 b/asterisk-18.10.0-rc1-summary.html                                                             |  449 ++
 b/asterisk-18.10.0-rc1-summary.txt                                                              |  889 +++++
 b/build_tools/make_version                                                                      |    8
 b/channels/chan_mgcp.c                                                                          |   50
 b/channels/chan_sip.c                                                                           |    9
 b/channels/chan_skinny.c                                                                        |   35
 b/channels/chan_unistim.c                                                                       |    8
 b/channels/iax2/provision.c                                                                     |   17
 b/channels/sip/dialplan_functions.c                                                             |    8
 b/configs/samples/cdr.conf.sample                                                               |    5
 b/configs/samples/extensions.conf.sample                                                        |  259 -
 b/configs/samples/iax.conf.sample                                                               |   12
 b/configs/samples/say.conf.sample                                                               |    8
 b/configs/samples/stasis.conf.sample                                                            |    1
 b/configure                                                                                     |  279 +
 b/configure.ac                                                                                  |   52
 b/contrib/scripts/ast_coredumper                                                                |    6
 b/doc/.gitignore                                                                                |    2
 b/doc/Doxyfile.in                                                                               |   94
 b/doc/appdocsxml.dtd                                                                            |    2
 b/doc/appdocsxml.xslt                                                                           |    4
 b/funcs/func_channel.c                                                                          |   35
 b/funcs/func_env.c                                                                              |   49
 b/funcs/func_frame_drop.c                                                                       |    4
 b/funcs/func_json.c                                                                             |  228 +
 b/include/asterisk/_private.h                                                                   |    4
 b/include/asterisk/acl.h                                                                        |   16
 b/include/asterisk/alertpipe.h                                                                  |   35
 b/include/asterisk/app.h                                                                        |   58
 b/include/asterisk/astobj2.h                                                                    |  177 -
 b/include/asterisk/autochan.h                                                                   |    4
 b/include/asterisk/autoconfig.h.in                                                              |    7
 b/include/asterisk/backtrace.h                                                                  |   16
 b/include/asterisk/bridge.h                                                                     |   35
 b/include/asterisk/bridge_after.h                                                               |   39
 b/include/asterisk/bridge_basic.h                                                               |    7
 b/include/asterisk/bridge_channel_internal.h                                                    |   20
 b/include/asterisk/bridge_features.h                                                            |   25
 b/include/asterisk/bridge_internal.h                                                            |   17
 b/include/asterisk/bridge_roles.h                                                               |    2
 b/include/asterisk/bucket.h                                                                     |   20
 b/include/asterisk/calendar.h                                                                   |    3
 b/include/asterisk/callerid.h                                                                   |   14
 b/include/asterisk/ccss.h                                                                       |   26
 b/include/asterisk/cdr.h                                                                        |   38
 b/include/asterisk/channel.h                                                                    |   38
 b/include/asterisk/cli.h                                                                        |    6
 b/include/asterisk/config.h                                                                     |   39
 b/include/asterisk/config_options.h                                                             |   52
 b/include/asterisk/conversions.h                                                                |   12
 b/include/asterisk/core_local.h                                                                 |    6
 b/include/asterisk/core_unreal.h                                                                |   15
 b/include/asterisk/crypto.h                                                                     |   14
 b/include/asterisk/data_buffer.h                                                                |    6
 b/include/asterisk/devicestate.h                                                                |   18
 b/include/asterisk/dial.h                                                                       |   22
 b/include/asterisk/dns.h                                                                        |    4
 b/include/asterisk/dns_core.h                                                                   |    2
 b/include/asterisk/dns_recurring.h                                                              |    2
 b/include/asterisk/dns_resolver.h                                                               |    2
 b/include/asterisk/dnsmgr.h                                                                     |    2
 b/include/asterisk/endpoints.h                                                                  |   14
 b/include/asterisk/event.h                                                                      |    3
 b/include/asterisk/event_defs.h                                                                 |    6
 b/include/asterisk/features_config.h                                                            |    4
 b/include/asterisk/file.h                                                                       |   42
 b/include/asterisk/format.h                                                                     |   10
 b/include/asterisk/format_cache.h                                                               |    6
 b/include/asterisk/format_cap.h                                                                 |   20
 b/include/asterisk/frame.h                                                                      |    4
 b/include/asterisk/fskmodem_float.h                                                             |    9
 b/include/asterisk/fskmodem_int.h                                                               |    9
 b/include/asterisk/hashtab.h                                                                    |   23
 b/include/asterisk/heap.h                                                                       |   11
 b/include/asterisk/http.h                                                                       |   79
 b/include/asterisk/http_websocket.h                                                             |   90
 b/include/asterisk/image.h                                                                      |    1
 b/include/asterisk/io.h                                                                         |   38
 b/include/asterisk/iostream.h                                                                   |   20
 b/include/asterisk/json.h                                                                       |  179 -
 b/include/asterisk/logger.h                                                                     |   29
 b/include/asterisk/logger_category.h                                                            |   29
 b/include/asterisk/manager.h                                                                    |   42
 b/include/asterisk/max_forwards.h                                                               |    2
 b/include/asterisk/message.h                                                                    |   12
 b/include/asterisk/multicast_rtp.h                                                              |    2
 b/include/asterisk/mwi.h                                                                        |   40
 b/include/asterisk/netsock2.h                                                                   |   13
 b/include/asterisk/pbx.h                                                                        |   84
 b/include/asterisk/phoneprov.h                                                                  |    2
 b/include/asterisk/pickup.h                                                                     |    6
 b/include/asterisk/res_hep.h                                                                    |    8
 b/include/asterisk/res_mwi_external.h                                                           |   14
 b/include/asterisk/res_pjproject.h                                                              |    8
 b/include/asterisk/res_pjsip.h                                                                  |   38
 b/include/asterisk/res_pjsip_cli.h                                                              |    4
 b/include/asterisk/res_prometheus.h                                                             |   55
 b/include/asterisk/rtp_engine.h                                                                 |   72
 b/include/asterisk/sched.h                                                                      |   59
 b/include/asterisk/sdp_srtp.h                                                                   |   20
 b/include/asterisk/security_events.h                                                            |    4
 b/include/asterisk/sem.h                                                                        |   25
 b/include/asterisk/serializer.h                                                                 |   11
 b/include/asterisk/sha1.h                                                                       |   57
 b/include/asterisk/slinfactory.h                                                                |    9
 b/include/asterisk/smoother.h                                                                   |    2
 b/include/asterisk/sorcery.h                                                                    |   48
 b/include/asterisk/stasis_app_device_state.h                                                    |    4
 b/include/asterisk/stasis_cache_pattern.h                                                       |   12
 b/include/asterisk/stasis_channels.h                                                            |    7
 b/include/asterisk/stasis_endpoints.h                                                           |    8
 b/include/asterisk/stasis_internal.h                                                            |    2
 b/include/asterisk/statsd.h                                                                     |    4
 b/include/asterisk/stream.h                                                                     |   64
 b/include/asterisk/stringfields.h                                                               |   24
 b/include/asterisk/strings.h                                                                    |  128
 b/include/asterisk/taskprocessor.h                                                              |    4
 b/include/asterisk/tcptls.h                                                                     |   26
 b/include/asterisk/tdd.h                                                                        |    4
 b/include/asterisk/threadpool.h                                                                 |    4
 b/include/asterisk/threadstorage.h                                                              |    1
 b/include/asterisk/timing.h                                                                     |    1
 b/include/asterisk/translate.h                                                                  |   28
 b/include/asterisk/udptl.h                                                                      |    6
 b/include/asterisk/uri.h                                                                        |   25
 b/include/asterisk/utf8.h                                                                       |    5
 b/include/asterisk/utils.h                                                                      |   81
 b/include/asterisk/vector.h                                                                     |   91
 b/include/asterisk/xml.h                                                                        |   28
 b/main/aoc.c                                                                                    |    8
 b/main/app.c                                                                                    |  299 +
 b/main/asterisk.c                                                                               |    4
 b/main/astobj2.c                                                                                |    4
 b/main/astobj2_container_private.h                                                              |   27
 b/main/astobj2_hash.c                                                                           |   26
 b/main/astobj2_rbtree.c                                                                         |   48
 b/main/bridge.c                                                                                 |   93
 b/main/bridge_after.c                                                                           |   20
 b/main/bridge_basic.c                                                                           |    6
 b/main/bridge_channel.c                                                                         |   23
 b/main/bridge_roles.c                                                                           |   16
 b/main/ccss.c                                                                                   |   10
 b/main/cdr.c                                                                                    |   78
 b/main/cel.c                                                                                    |    2
 b/main/channel.c                                                                                |  101
 b/main/channel_internal_api.c                                                                   |    4
 b/main/cli.c                                                                                    |   34
 b/main/config.c                                                                                 |   40
 b/main/core_local.c                                                                             |   10
 b/main/crypt.c                                                                                  |    2
 b/main/devicestate.c                                                                            |    4
 b/main/dial.c                                                                                   |   40
 b/main/dns.c                                                                                    |   10
 b/main/dns_naptr.c                                                                              |    2
 b/main/dns_system_resolver.c                                                                    |    9
 b/main/dsp.c                                                                                    |   25
 b/main/features.c                                                                               |    6
 b/main/file.c                                                                                   |    8
 b/main/format_cap.c                                                                             |    8
 b/main/http.c                                                                                   |  404 ++
 b/main/io.c                                                                                     |    6
 b/main/logger.c                                                                                 |   26
 b/main/manager.c                                                                                |   20
 b/main/manager_bridges.c                                                                        |   18
 b/main/manager_channels.c                                                                       |  123
 b/main/manager_mwi.c                                                                            |   56
 b/main/media_cache.c                                                                            |    5
 b/main/message.c                                                                                |   13
 b/main/mwi.c                                                                                    |    3
 b/main/named_acl.c                                                                              |    4
 b/main/options.c                                                                                |    2
 b/main/pbx.c                                                                                    |   45
 b/main/pbx_app.c                                                                                |    4
 b/main/pbx_builtins.c                                                                           |   97
 b/main/pbx_hangup_handler.c                                                                     |   10
 b/main/pbx_timing.c                                                                             |    6
 b/main/pbx_variables.c                                                                          |   23
 b/main/pickup.c                                                                                 |    1
 b/main/rtp_engine.c                                                                             |   18
 b/main/say.c                                                                                    |   14
 b/main/sched.c                                                                                  |   45
 b/main/sha1.c                                                                                   |   32
 b/main/sorcery.c                                                                                |   16
 b/main/srv.c                                                                                    |    2
 b/main/stasis.c                                                                                 |    1
 b/main/stasis_channels.c                                                                        |    3
 b/main/stasis_endpoints.c                                                                       |    2
 b/main/taskprocessor.c                                                                          |   10
 b/main/tcptls.c                                                                                 |   88
 b/main/tdd.c                                                                                    |    1
 b/main/threadpool.c                                                                             |   10
 b/main/translate.c                                                                              |   10
 b/main/utils.c                                                                                  |    4
 b/main/uuid.c                                                                                   |    2
 b/makeopts.in                                                                                   |    1
 b/res/ael/ael_lex.c                                                                             |    2
 b/res/ari/internal.h                                                                            |    4
 b/res/parking/parking_ui.c                                                                      |    2
 b/res/prometheus/bridges.c                                                                      |    2
 b/res/prometheus/channels.c                                                                     |    2
 b/res/prometheus/endpoints.c                                                                    |    2
 b/res/prometheus/pjsip_outbound_registrations.c                                                 |    4
 b/res/res_chan_stats.c                                                                          |    9
 b/res/res_config_ldap.c                                                                         |   14
 b/res/res_config_sqlite3.c                                                                      |    2
 b/res/res_crypto.c                                                                              |    7
 b/res/res_fax_spandsp.c                                                                         |   45
 b/res/res_hep.c                                                                                 |    2
 b/res/res_http_websocket.c                                                                      |   36
 b/res/res_monitor.c                                                                             |    3
 b/res/res_mwi_external.c                                                                        |   14
 b/res/res_phoneprov.c                                                                           |    1
 b/res/res_pjproject.c                                                                           |    4
 b/res/res_pjsip.c                                                                               |   57
 b/res/res_pjsip.exports.in                                                                      |    1
 b/res/res_pjsip/pjsip_message_filter.c                                                          |   23
 b/res/res_pjsip/pjsip_resolver.c                                                                |    8
 b/res/res_pjsip_history.c                                                                       |   16
 b/res/res_pjsip_mwi.c                                                                           |    4
 b/res/res_pjsip_notify.c                                                                        |    6
 b/res/res_pjsip_outbound_authenticator_digest.c                                                 |    6
 b/res/res_pjsip_outbound_registration.c                                                         |    2
 b/res/res_pjsip_sdp_rtp.c                                                                       |   35
 b/res/res_pjsip_session.c                                                                       |   41
 b/res/res_prometheus.c                                                                          |    7
 b/res/res_rtp_asterisk.c                                                                        |   29
 b/res/res_sorcery_memory_cache.c                                                                |    2
 b/res/res_stasis.c                                                                              |   10
 b/res/res_stir_shaken/certificate.h                                                             |   14
 b/res/res_stir_shaken/curl.c                                                                    |    5
 b/res/res_stun_monitor.c                                                                        |    7
 b/res/res_tonedetect.c                                                                          |    8
 b/res/res_xmpp.c                                                                                |    2
 b/res/snmp/agent.h                                                                              |    6
 b/res/stasis/app.h                                                                              |    4
 b/res/stasis_recording/stored.c                                                                 |    2
 b/tests/test_bridging.c                                                                         |    2
 b/tests/test_cdr.c                                                                              |    6
 b/tests/test_sched.c                                                                            |  129
 b/tests/test_time.c                                                                             |    8
 b/third-party/Makefile                                                                          |   22
 b/third-party/Makefile.rules                                                                    |   11
 b/third-party/apply_patches                                                                     |    6
 b/third-party/jansson/Makefile                                                                  |    2
 b/third-party/pjproject/.gitignore                                                              |    3
 b/third-party/pjproject/Makefile                                                                |  158
 b/third-party/pjproject/README-hacking.md                                                       |  213 +
 b/third-party/pjproject/configure.m4                                                            |   25
 b/third-party/pjproject/dependency_utils                                                        |   96
 b/third-party/pjproject/patches/0130-sip_inv-Additional-multipart-support-2919-2920.patch       |  661 +++
 b/third-party/pjproject/patches/0140-Fix-incorrect-unescaping-of-tokens-during-parsing-29.patch |  123
 b/third-party/pjproject/patches/0150-Create-generic-pjsip_hdr_find-functions.patch              |  176 +
 b/third-party/pjproject/patches/0160-Additional-multipart-improvements.patch                    |  586 +++
 contrib/asterisk-doxygen-header                                                                 |   10
 doc/asterisk-ng-doxygen.in                                                                      | 1689 ----------
 271 files changed, 9626 insertions(+), 6378 deletions(-)
